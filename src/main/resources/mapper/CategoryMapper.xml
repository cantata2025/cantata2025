<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cantata.tradetalent.repository.CategoryRepository">

<!--    카테고리 목록 조회- 메인-->
    <select id="getCategoriesMain" resultType="String">
        SELECT DISTINCT

            main_category_name
        FROM categories
    </select>

<!--   카테고리 목록 조회- 서브 -->
    <select id="getSubCategories" resultType="String">
        SELECT sub_category_name
        FROM categories
        WHERE main_category_name =#{mainCategoryName}
    </select>

<!-- 권역 조회 ex) 수도권, 강원권 ,제주권 ...-->
    <select id = "getRegionName" resultType="String">
        SELECT DISTINCT
            region_group_name
        FROM region_categories

    </select>

    <!-- 시 별 조회-->
    <select id ="getProvinceName" resultType="String">
        SELECT DISTINCT
            province_name
        FROM region_categories
        WHERE region_group_name = #{regionGroupName}
    </select>

    <!-- 구 별 조회-->
    <select id="getDistrictName" parameterType="String" resultType="String">
        SELECT
            district_name
        FROM region_categories
        WHERE province_name = #{provinceName}
    </select>

<!--    유저 카테고리 단일 조회-->
    <select id="getUserCategory" resultType="String">
        SELECT
            sub_category_name
        FROM categories_give
        JOIN categories
        ON category_id = categories.id
        WHERE user_id = #{id}
    </select>


</mapper>