<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cantata.tradetalent.repository.TalentCategoryRepository">

    <insert id="createTalent">
        INSERT INTO categories_give (user_id, category_id, type)
        VALUES (
                (SELECT id FROM users WHERE email = #{email}),
                (SELECT id FROM categories WHERE sub_category_name = #{talentName})
                ,#{type})
    </insert>


    <update id="updateTalent">
        UPDATE categories_give
        SET category_id = (
            SELECT id
            FROM categories
            WHERE sub_category_name =#{subCategoryName}
        )
        WHERE user_id = (
            SELECT id
            FROM users
            WHERE email = '#{email}'
        );
    </update>




</mapper>